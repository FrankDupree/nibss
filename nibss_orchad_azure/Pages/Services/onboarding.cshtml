@page
@using nibss_orchad_azure.Models

@inject OrchardCore.IOrchardHelper Orchard
@addTagHelper *, OrchardCore.Media
@{
    ViewData["Title"] = "Onboarding Requirements";
    var ob = await Orchard.GetContentItemByHandleAsync("alias:onboarding");

    //create Banner Object
    Banner banner = new Banner
    {
        Title = ob.Content.Banner.BannerTitle.Text,
        Text = ob.Content.Banner.BannerText.Text,
        ImageUrl = ob.Content.Banner.BannerImage.Paths[0],
        ButtonUrl = ob.Content.Banner.BannerButtonURL.Text,
        TitleSize = ob.Content.Banner.TitleSize.Value
    };



}
@await Html.PartialAsync("Partials/_Banner", banner)


<div class="uk-section  uk-padding-remove-top uk-padding-bottom-remove">
    <div class="uk-container uk-container-small">
        <div class="uk-grid">
            <div class="uk-width-1-3">
                <h6 class="uk-heading-line uk-text-small"><span>@ob.Content.PageHeader.SubHeading.Text</span></h6>
            </div>
            <div class="uk-width-1-1 uk-margin-small">
                <h2 class="page_title">@ob.Content.PageHeader.heading.Text</h2>
            </div>
        </div>
        <div class="uk-margin-small uk-grid">

            @Html.Raw(ob.Content.HtmlBodyPart.Html)
        </div>
        <div class="uk-width-1-1 uk-margin-medium-top">
            <button style="margin:2%;width:200px" id="widget-launcher" class="uk-button uk-button-primary button-base">Integrate Now</button>

        </div>
    </div>
</div>

@await Component.InvokeAsync("PartnersCarousel")

<script>

    window.fwSettings = {

        'widget_id': 47000004772

    };

    !function () { if ("function" != typeof window.FreshworksWidget) { var n = function () { n.q.push(arguments) }; n.q = [], window.FreshworksWidget = n } }()

</script>

<script type='text/javascript' src='https://widget.freshworks.com/widgets/47000004772.js' async defer></script>

    <script type= 'text/javascript' >

        //custom API to prefill certain fields

        FreshworksWidget('prefill', 'ticketForm', {

            subject: 'NIP Customer Onboarding Request',

            priority: 1,

            status: 2,

            type: 'Customer Onboarding', //dropdown

            custom_fields: {

                cf_kindly_select_desired_product: 'NIP', //dropdown field

                cf_approved_category: 'Customer Onboarding', //dropdown field

                cf_approved_sub_category: 'NIP Integration', //subchoice

                cf_approved_sub_category_2: 'New Request', //subchoice

            }

        });

//custom API to hide certain fields

FreshworksWidget('hide', 'ticketForm', ['subject', 'custom_fields.cf_approved_category']);


    </script>


