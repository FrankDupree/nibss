var nipUrl = "/traf/nip", posUrl = "/traf/pos"; function getData(t, e) { var r = {}; return $.get(t, function (t, a) { var o = (t = JSON.parse(t)).msg.txnCategory, n = t.msg.volumeGraphs[1].graph.legend, s = (t = t.msg.volumeGraphs[1].graph.points, []); for (j = t.length - 24, j < 0 && (j = 0), i = 0; j < t.length - 1; j++, i++) { if (0 == i) var l = t[j].x; dt = [t[j].x, t[j].y], s[i] = dt } drawChart((r = { points: s, title: o, startx: l, legend: n }).points, r.title, r.startx, r.legend, e) }), r } function drawChart(t, e, r, i, a) { Highcharts.chart(a, { chart: { type: "spline" }, title: { text: e, margin: 60, style: { "font-family": "Sansation Bold V3", "font-weight": "bold", color: "#9d7c13", "font-size": "16pt", "margin-top": "2%" } }, tooltip: { formatter: function () { return "<b>" + this.series.name + '</b><br/> <b style="color:red;line-height:1.5">Time</b>: ' + Highcharts.dateFormat("%H:%M", new Date(this.x)) + '<br/><b style="color:blue">Volume</b>: ' + this.y } }, noData: { style: { fontWeight: "bold", fontSize: "15px", color: "#303030" } }, credits: { enabled: !1 }, xAxis: { type: "datetime", labels: { overflow: "justify" }, title: { text: "Transaction Time" } }, yAxis: { title: { text: "Transaction Volume" }, min: 0 }, plotOptions: { series: { marker: { enabled: !0 } }, pointInterval: 36e5, pointStart: r }, colors: ["#3b5998"], series: [{ name: i, data: t }], responsive: { rules: [{ condition: { maxWidth: 350 }, chartOptions: { plotOptions: { series: { marker: { radius: 2.5 } } } } }] } }) } $(document).ready(function (t) { Highcharts.setOptions({ time: { timezone: "Africa/Lagos" }, colors: Highcharts.map(Highcharts.getOptions().colors, function (t) { return { radialGradient: { cx: .5, cy: .3, r: .7 }, stops: [[0, t], [1, Highcharts.color(t).brighten(-.3).get("rgb")]] } }) }), p = getData(nipUrl, "container"), q = getData(posUrl, "container2") });